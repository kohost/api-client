{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "property.json",
  "title": "Property",
  "type": "object",
  "description": "A property is a physical asset or building",
  "required": ["id", "name", "type", "hostname", "organization"],
  "properties": {
    "id": {
      "$ref": "definitions.json#/definitions/id"
    },
    "name": {
      "type": "string"
    },
    "type": {
      "type": "string",
      "default": "property"
    },
    "discriminator": {
      "type": "string",
      "enum": ["hospitality", "education", "commercial"]
    },

    "timezone": {
      "type": "string"
    },
    "smsNumber": {
      "type": "string"
    },
    "hostname": {
      "type": ["string", "null"]
    },
    "organization": {
      "type": ["string", "null"],
      "description": "Reference (id) to the organization that owns this property"
    },
    "checkInTime": {
      "type": "string"
    },
    "checkOutTime": {
      "type": "string"
    },
    "address": {
      "$ref": "definitions.json#/definitions/address"
    },
    "latitude": {
      "type": "number"
    },
    "longitude": {
      "type": "number"
    },
    "appManifest": {
      "type": "object",

      "properties": {
        "name": {
          "type": "string"
        },
        "short_name": {
          "type": "string"
        },
        "scope": {
          "type": "string"
        },
        "start_url": {
          "type": "string"
        },
        "themeColor": {
          "type": "string"
        },
        "backgroundColor": {
          "type": "string"
        },
        "display": {
          "type": "string",
          "enum": ["fullscreen", "standalone", "minimal-ui", "browser"],
          "default": "fullscreen"
        },
        "orientation": {
          "type": "string",
          "enum": ["portrait", "landscape"],
          "default": "portrait"
        },
        "splash": {
          "type": "object",
          "properties": {
            "src": {
              "type": "string"
            },
            "type": {
              "type": "string"
            },
            "sizes": {
              "type": "string"
            }
          }
        },
        "icons": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "src": {
                "type": "string"
              },
              "sizes": {
                "type": "string"
              },
              "type": {
                "type": "string"
              }
            }
          }
        },
        "logo": {
          "type": "object",
          "properties": {
            "src": {
              "type": "string"
            },
            "type": {
              "type": "string"
            },
            "sizes": {
              "type": "string"
            }
          }
        }
      },
      "default": {
        "name": "Kohost",
        "short_name": "Kohost",
        "start_url": "/",
        "scope": "/",
        "display": "fullscreen",
        "orientation": "portrait",
        "theme_color": "#1d1f22",
        "background_color": "#1d1f22",
        "icons": [
          {
            "src": "https://cdn.kohost.app/defaultIcon.png",
            "sizes": "512x512",
            "type": "image/png"
          }
        ],
        "splash": {
          "src": "https://cdn.kohost.app/defaultSplash.jpg",
          "sizes": "1500x800",
          "type": "image/jpg"
        },
        "logo": {
          "src": "https://cdn.kohost.app/defaultLogo.png",
          "sizes": "300x75",
          "type": "image/png"
        }
      }
    },
    "appFeatures": {
      "type": "object",
      "properties": {
        "RoomControl": {
          "type": "object",
          "properties": {
            "commonAreas": {
              "type": "object",
              "properties": {
                "spaces": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "additionalProperties": false
        },
        "CheckIn": {
          "properties": {
            "payment": {},
            "identification": {},
            "earlyCheckIn": {
              "type": "object",
              "required": ["dynamic"],
              "properties": {
                "dynamic": {
                  "type": "boolean",
                  "default": false
                },
                "minimumPrice": {
                  "type": "number",
                  "default": 10
                },
                "maximumPrice": {
                  "type": "number",
                  "default": 50
                },
                "priceRatioPerHour": {
                  "type": "number",
                  "default": 0.1
                }
              }
            },
            "roomUpgrades": {}
          }
        },
        "CheckOut": {
          "properties": {
            "lateCheckOut": {
              "type": "object",
              "required": ["dynamic"],
              "properties": {
                "dynamic": {
                  "type": "boolean",
                  "default": false
                },
                "minimumPrice": {
                  "type": "number",
                  "default": 10
                },
                "maximumPrice": {
                  "type": "number",
                  "default": 50
                },
                "priceRatioPerHour": {
                  "type": "number",
                  "default": 0.1
                }
              }
            }
          }
        },
        "Concierge": {},
        "DigitalKey": {
          "type": "object",
          "properties": {
            "system": {
              "type": "string",
              "enum": ["salto"]
            },
            "systemOnline": {
              "type": "boolean",
              "default": false
            },
            "enableApp": {
              "type": "boolean"
            },
            "branding": {
              "type": "object",
              "properties": {
                "logo": {
                  "type": "string",
                  "format": "uri"
                },
                "gradient": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "pattern": "^(?!#ffffff)(#[0-9a-fA-F]{6})$"
                  },
                  "minItems": 2,
                  "maxItems": 2
                },
                "highlightedGradient": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "pattern": "^(?!#ffffff)(#[0-9a-fA-F]{6})$"
                  },
                  "minItems": 2,
                  "maxItems": 3
                }
              }
            }
          }
        },
        "Elevator": {}
      },
      "additionalProperties": false,
      "default": {
        "RoomControl": {}
      }
    },
    "notifications": {
      "type": "object",
      "properties": {
        "email": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "sms": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "push": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false,
      "default": {
        "email": {
          "enabled": false
        },
        "sms": {
          "enabled": false
        },
        "push": {
          "enabled": false
        }
      }
    },
    "credentials": {
      "type": "object",
      "additionalProperties": true
    }
  }
}
